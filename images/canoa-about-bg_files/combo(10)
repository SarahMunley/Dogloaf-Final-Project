YUI.add("hermes-template-search-autosuggest-items-list",function(e,t){var n=e.Template.Handlebars.revive({1:function(e,t,n,r,i){var s;return'		<li class="autosuggest-list-elem" role="menuitem">'+((s=e.invokePartial(r["search-autosuggest-list-item"],t,{name:"search-autosuggest-list-item",data:i,helpers:n,partials:r,decorators:e.decorators}))!=null?s:"")+"</li>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var s;return'<ul class="autosuggest-items-list" role="menu">\n'+((s=n.each.call(t!=null?t:{},t!=null?t.autosuggestItems:t,{name:"each",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))!=null?s:"")+"</ul>\n"},usePartial:!0,useData:!0}),r={};e.Array.each(["search-autosuggest-list-item"],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/search-autosuggest-items-list",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base","hermes-template-search-autosuggest-list-item"]});
YUI.add("autosuggest-data-manager",function(e){function n(e){return e.trim().split(/\s+/)}function r(t){var n=t.replace(/[\W,_]/g,"").toLowerCase();return e.fluid.removeDiacritics(n)}function i(e){var t="",n=e.split(""),r,i;for(i=0,r=n.length;i<r-1;i++)t+=n[i]+"[\\W,_]*";return t+=n[r-1],t}var t;t=e.AutosuggestDataManager=function(e){e=e||{},e.prefixTrie?this.prefixTrie=e.prefixTrie:this._buildPrefixTrie(e.items)},t.locateQuery=function(e,t){var s=[],o,u,a={},f,l,c,h,p,d;if(!e||!t)return[];o=n(e);for(d=0,u=o.length;d<u;d++)f=r(o[d]),a[f]||(l=i(f),c=new RegExp("(\\b|_)("+l+")","i"),h=c.exec(t),h&&(p=h.index+h[1].length,s.push({start:p,end:p+h[2].length})),a[f]=!0);return s},t.deserialize=function(e){return new t({prefixTrie:JSON.parse(e)})},t.prototype={add:function(e){function f(i){var l,c,h,p,d,v,m,g,y,b,w;for(l=0,c=i.length;l<c;l++){h=i[l],d=[],h.title&&(d=d.concat(n(h.title))),h.subtitle&&(d=d.concat(n(h.subtitle)));if(h.aliases)for(w=0,p=h.aliases.length;w<p;w++)d=d.concat(n(h.aliases[w]));for(w=0,v=d.length;w<v;w++){m=d[w],g=t.prefixTrie,y=r(m).split("");while(b=y.shift())g.children[b]=g.children[b]||t._newTrieNode(),g=g.children[b],g.itemKeys[h.key]||(g.items.push(h),g.itemKeys[h.key]=!0)}}o<s&&(s>o+u?a=o+u:a=s,i=e.slice(o,a),o=a,setTimeout(function(){f(i)},0))}var t=this,i,s,o,u=250,a;o=0,s=e.length,s>o+u?a=o+u:a=s,i=e.slice(o,a),o=a,f(i)},query:function(e){var t=this,i,s,o,u,a,f;return e?(i=n(e),i.every(function(e){s=t.prefixTrie,o=r(e).split("");if(!o.length)return!0;while(s&&(f=o.shift()))s=s.children[f];return!s||o.length!==0?(a=[],!1):(u=s.items.slice(),a=a?t._intersectMatches(a,u):u,a&&a.length===0?!1:!0)}),a||[]):[]},serialize:function(){return JSON.stringify(this.prefixTrie)},_buildPrefixTrie:function(e){this.prefixTrie=this._newTrieNode(),e&&this.add(e)},_newTrieNode:function(){return{items:[],itemKeys:{},children:{}}},_intersectMatches:function(e,t){return e.filter(function(e){return t.some(function(t){return t.key===e.key})})}}},"@VERSION@",{requires:[],optionalRequires:["fluid"]});
YUI.add("search-autosuggest-items-list-view",function(e,t){var n=require("lib/flog")(t),r=[{key:"photos",headerTemplate:{titleIntlKey:"search.PHOTOS",searchLink:{textIntlKey:"search.SEARCH_PHOTOS",searchType:e.SearchUrl.searchTypes.PHOTOS,rapidType:"searchPhotos",iconClass:"icon-photos"}}},{key:"people",headerTemplate:{titleIntlKey:"search.PEOPLE",searchLink:{textIntlKey:"search.SEARCH_PEOPLE",searchType:e.SearchUrl.searchTypes.PEOPLE,rapidType:"searchPeople",iconClass:"icon-people"}}},{key:"groups",headerTemplate:{titleIntlKey:"search.GROUPS",searchLink:{textIntlKey:"search.SEARCH_GROUPS",searchType:e.SearchUrl.searchTypes.GROUPS,rapidType:"searchGroups",iconClass:"icon-groups"}}},{key:"pages"}],i=3;e.namespace("Views")[this.name]=e.Base.create(this.name,e.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(t){return this.set("autosuggestItems",t.autosuggestItems||{}),this.set("searchUrl",new e.SearchUrl(this.appContext.getLocation().href,this.appContext)),this.set("searchQuery",""),this},loadState:function(){var e=this.appContext.getViewer().signedIn?this.appContext.getViewer().nsid+"_user":"global_global",t=this;return this.appContext.getModel("autosuggest-context-results-models",{id:e}).then(function(e){e&&(t.processTimeout=setTimeout(function(){t.processAutosuggestModels(e)},1e3))},function(t){n.warn("error loading autosuggest data",{modelId:e})})},processAutosuggestModels:function(t){var n={};t&&t.getValue("pages").length&&(n.pages=new e.AutosuggestDataManager({items:t.getValue("pages")})),t&&t.getValue("people").length&&(n.people=new e.AutosuggestDataManager({items:t.getValue("people")})),t&&t.getValue("groups").length&&(n.groups=new e.AutosuggestDataManager({items:t.getValue("groups")})),this.set("autosuggestDataManagers",n)},updateAutosuggestItems:function(e){var t=this.get("autosuggestDataManagers"),n={},r;r=function(e,t){return e.score&&t.score?t.score-e.score:0},e&&t&&(t.pages&&(n.pages=t.pages.query(e).sort(r)),t.people&&(n.people=t.people.query(e).sort(r)),t.groups&&(n.groups=t.groups.query(e).sort(r))),this.set("autosuggestItems",n||{}),this.set("searchQuery",e||""),this.set("previouslySelectedNode",null),this.buildContainer()},buildContainer:function(){return this.assembleAutosuggestItemsList(),this.setContainerWithTemplate("search-autosuggest-items-list",{autosuggestItems:this.get("autosuggestItemsList")}),this},activate:function(){var e=this.get("container");return this.registerEventHandler(e.delegate("blur",this.handleAutosuggestListItemBlur.bind(this),".autosuggest-selectable-item")),this.registerEventHandler(e.delegate("click",this.handleAutosuggestListItemClick.bind(this),".autosuggest-selectable-item")),this.registerEventHandler(e.delegate("mouseenter",this.handleAutosuggestListItemHoverOn.bind(this),".autosuggest-selectable-item")),this.registerEventHandler(e.delegate("keydown",this.handleAutosuggestListItemKeydown.bind(this),".autosuggest-selectable-item")),this},onParentViewEvent:function(e,t){var n=t&&t.length&&t[0];switch(n){case"update-autosuggest-items":this.updateAutosuggestItems(t[1],t[2]);break;case"enable-autosuggest":this.get("container").removeClass("disabled");break;case"disable-autosuggest":this.get("container").addClass("disabled");break;case"autosuggest-keyboard-nav":t[1]&&this.doKeyboardNav(t[1],!0)}},assembleAutosuggestItemsList:function(){var e=[],t=this.get("autosuggestItems")||{},n=this.get("searchQuery")||"",s,o,u;if(n)for(o=0;o<r.length;o++){s=r[o];if(t.hasOwnProperty(s.key)&&t[s.key].length){e.push(this.buildSectionHeaderItem(s.headerTemplate,n,!0));for(u=0;u<Math.min(i,t[s.key].length);u++)e.push(this.buildAutosuggestListItem(t[s.key][u],s.key,n))}else s.headerTemplate&&e.push(this.buildSectionHeaderItem(s.headerTemplate,n,!1))}e.length?(e[0].selected=!0,this.fire("subviewViewEvent","autosuggest-has-items")):this.fire("subviewViewEvent","autosuggest-no-items"),this.set("autosuggestItemsList",e)},buildSectionHeaderItem:function(e,t,n){var r={header:!0};return e?(r.iconClass="icon-search",e.searchLink&&(r.subtitle=this.intlMessage({intlName:e.searchLink.textIntlKey}),r.url=this.get("searchUrl").clone().createNewSearch(t).setSearchType(e.searchLink.searchType).getURL(),r.iconClass=e.searchLink.iconClass,r.rapidType=e.searchLink.rapidType)):r.empty=!0,r},buildAutosuggestListItem:function(t,n,r){var i={item:!0},s,o;return i.title=t.title||"",i.subtitle=t.subtitle||"",i.rapidType=n,i.titleHighlights=e.AutosuggestDataManager.locateQuery(r,i.title),i.subtitleHighlights=e.AutosuggestDataManager.locateQuery(r,i.subtitle),n==="pages"?(i.url=t.url||"",i.iconClass="icon-docs"):(s=n==="groups"?"groups":"photos",o=t.pathalias||t.nsid,o&&(i.url="/"+s+"/"+o),t.nsid&&(t.iconserver||t.iconserver===0)&&(i.avatar={type:n==="groups"?"group":"person",title:i.title,url:e.URLHelper.getBuddyIconURL(t.nsid,Math.ceil(t.iconserver/1e3),t.iconserver),personNsid:n==="people"?t.nsid:!1,groupNsid:n==="groups"?t.nsid:!1})),i},handleAutosuggestListItemBlur:function(t){var n,r=this;setTimeout(function(){n=e.one(e.config.doc.activeElement),n.hasClass("autosuggest-selectable-item")||r.fire("subviewViewEvent","autosuggest-lost-all-focus")},25)},handleAutosuggestListItemClick:function(e){this.navigateFromAutosuggestListNode(e.currentTarget)},handleAutosuggestListItemKeydown:function(t){var n="";t.halt();if(t.altKey===!0)e.fire("transfer-to-gn-search",n);else if(t.keyCode>=48&&t.keyCode<=90)n=String.fromCharCode(t.keyCode),t.shiftKey===!0?n=n.toUpperCase():n=n.toLowerCase(),e.fire("transfer-to-gn-search",n);else switch(t.keyCode){case 8:this.fire("subviewViewEvent","backspace-focus");break;case 13:this.navigateFromAutosuggestListNode(t.target);break;case 27:this.blurAllAutosuggestListNodes();break;case 38:this.doKeyboardNav("up",!1);break;case 40:this.doKeyboardNav("down",!1)}},navigateFromAutosuggestListNode:function(t){var n,r,i;t&&(n=t.getData("href"),r=t.getData("title"),i=t.getData("track")),r&&this.fire("subviewViewEvent","autosuggest-update-field",r),n&&
(e.rapidTracker.beacon(this.name,i),this.updateAutosuggestItems(),this.appContext.flapp.navigate(n))},blurAllAutosuggestListNodes:function(){var e=this.get("container").all(".autosuggest-selectable-item"),t=e?e.size():0;if(!t)return;e.each(function(e){e.blur()})},doKeyboardNav:function(e,t){var n=this.get("container").all(".autosuggest-selectable-item"),r=n?n.size():0,i=-1,s;if(!r)return;s=this.get("container").one(".autosuggest-selectable-item.selected"),s&&(i=n.indexOf(s)),n.removeClass("selected"),i=e==="up"?i-1:i+1,i>=0&&i<r?(s=n.item(i),s.addClass("selected"),s.focus()):t?(i=i<0?r-1:0,s=n.item(i),s.addClass("selected"),s.focus()):this.fire("subviewViewEvent","focus-search-field")},handleAutosuggestListItemHoverOn:function(e){var t=this.get("container").one(".autosuggest-selectable-item.selected"),n=e.target;t&&t.removeClass("selected"),n.addClass("selected"),n.focus()},destructor:function(){this.processTimeout&&clearTimeout(this.processTimeout)}})},"@VERSION@",{requires:["flickr-view","flickr-promise","hermes-template-search-autosuggest-items-list","hermes-template-search-autosuggest-list-item","autosuggest-data-manager","search-url","url-helper"],langBundles:["search"]});
YUI.add("hermes-lang-search",function(e,t){e.Intl.add("hermes/search","en-US",{RELEVANT:["Relevant"],RECENT:["Recent"],INTERESTING:["Interesting"],NAME:["Name"],ACTIVITY:["Activity"],SIZE:["Size"],OLDEST:["Oldest"],NEWEST:["Newest"],DEFAULT_SEARCH:['This is where you search Flickr. Here\'s a search for <span class="default-search">',"${query}","</span> to get you started!"],FLICKR_SEARCH:["Flickr Search"],NO_MATCHES_FOR_QUERY_TERM:["Oops! There are no matches for \u201c","${searchTerm}","\u201d."],NO_MATCHES_FOR_QUERY_TERM_WITH_SETTINGS:["Oops! There are no matches for \u201c","${searchTerm}","\u201d with your selected settings."],NO_MATCHES_FOR_QUERY:["Oops! There are no matches for your search."],TRY_DIFFERENT:["Please try refining your search."],TRY_DIFFERENT_BROADER:["Please try broadening your search."],SEARCH_ERROR:["Oops! The date you entered does not exist."],SEARCH_START:["Start your search"],SEARCHING:["Searching"],FETCHING_PHOTOS:["Fetching more photos..."],SEARCH:["Search"],START_YOUR_SEARCH:["Start your search"],BY_USER:["by ","${user}"],NO_MATCHES_FOR_QUERY_TERM_CONTEXT_YOUR:["Oops! There are no matches for \u201c","${searchTerm}","\u201d in your photos."],NO_MATCHES_FOR_QUERY_TERM_CONTEXT_CONTACTS:["Oops! There are no matches for \u201c","${searchTerm}","\u201d in your contacts' photos."],NO_MATCHES_FOR_QUERY_TERM_CONTEXT_USER:["Oops! There are no matches for \u201c","${searchTerm}","\u201d in this user's photos."],NO_MATCHES_FOR_QUERY_TERM_CONTEXT_GROUP:["Oops! There are no matches for \u201c","${searchTerm}","\u201d in this group."],NO_MATCHES_FOR_QUERY_TERM_YOUR:["Oops! There are no matches for your search in your photos."],NO_MATCHES_FOR_QUERY_TERM_CONTACTS:["Oops! There are no matches for your search in your contacts' photos."],NO_MATCHES_FOR_QUERY_TERM_USER:["Oops! There are no matches for your search in this user's photos."],NO_MATCHES_FOR_QUERY_TERM_GROUP:["Oops! There are no matches for your search in this group."],API_ERROR_HEADER:["Oh noes! We couldn't process your search."],API_ERROR_SUBHEADER:["Please change it up a bit and try again."],PEOPLE_YOU_FOLLOW:["People you follow"],ALL_FLICKR_MEMBERS:["All Flickr members"],FLICKR_MEMBERS:["Flickr members"],YOUR_GROUPS:["Your groups"],ALL_FLICKR_GROUPS:["All Flickr groups"],FLICKR_GROUPS:["Flickr groups"],MEMBER_COUNT:[{type:"plural",valueName:"count",options:{zero:"0 members",one:"${#} member",other:"${#} members"}}],GROUP_PHOTO_COUNT:[{type:"plural",valueName:"count",options:{zero:"no photos",one:"${#} photo",other:"${#} photos"}}],GROUP_DISCUSSION_COUNT:[{type:"plural",valueName:"count",options:{zero:"no discussions",one:"${#} discussion",other:"${#} discussions"}}],YOUR_PHOTOS:["Your photos"],YOUR_ALBUMS:["Your albums"],YOUR_GALLERIES:["Your galleries"],FROM_YOUR_CONTACTS:["From your contacts"],EVERYONES_PHOTOS:["Everyone's photos"],VIEW_ALL_COUNT:[{type:"plural",valueName:"count",options:{zero:"no more photos",other:"View all ${#}"}}],RESULTS_COUNT:[{type:"plural",valueName:"count",options:{zero:"no results",one:"${#} result",other:"${#} results"}}],PEOPLE_PHOTOS_COUNT:[{type:"plural",valueName:"count",options:{zero:"0 photos",one:"${#} photo",other:"${#} photos"}}],PEOPLE_VIDEOS_COUNT:[{type:"plural",valueName:"count",options:{zero:"no videos",one:"${#} video",other:"${#} videos"}}],PEOPLE_FOLLOWERS_COUNT:[{type:"plural",valueName:"count",options:{zero:"no followers",one:"${#} follower",other:"${#} followers"}}],SAFESEARCH_ON:["SafeSearch on"],SAFESEARCH_OFF:["SafeSearch off"],SAFESEARCH_MODERATE:["SafeSearch moderate"],SEARCH_PHOTOSTREAM:["Search photostream"],SEARCH_FAVORITES:["Search favorites"],ANY_LICENSE:["Any license"],ALL_CC:["All creative commons"],COMMERCIAL_USE:["Commercial use allowed"],MODS_ALLOWED:["Modifications allowed"],COMMERCIAL_USE_MODS:["Commercial use & mods allowed"],NO_RESTRICTIONS:["No known copyright restrictions"],MARKETPLACE_LICENSE:["Flickr Marketplace"],US_GOVT:["U.S. Government works"],PUBLIC_DOMAIN_DEDICATION:["Public Domain Dedication (CC0)"],PUBLIC_DOMAIN_WORK:["Public Domain Work"],CC_BY_NC_SA:["Attribution-NonCommercial-ShareAlike"],CC_BY_NC:["Attribution-NonCommercial"],CC_BY_NC_ND:["Attribution-NonCommercial-NoDerivs"],CC_BY:["Attribution"],CC_BY_SA:["Attribution-ShareAlike"],CC_BY_ND:["Attribution-NoDerivs"],PLAIN_COUNT:[{type:"plural",valueName:"count",options:{zero:"0",one:"${#}",other:"${#}"}}],PHOTOS:["Photos"],PEOPLE:["People"],GROUPS:["Groups"],PHOTOS_POSSESSIVE:["${name}","'s photos"],FAVES_POSSESSIVE:["${name}","'s favorites"],CONTACTS_POSSESSIVE:["${name}","'s contacts"],GROUPS_POSSESSIVE:["${name}","'s groups"],VIEWER_FAVES:["Your favorites"],IN_GROUP_POOL:["In the ","${name}"," group pool"],OPT_OUT_MESSAGE:["You are viewing the alpha version of our new search experience. Click here to return to the old version."],OPT_IN_MESSAGE:["Go back to the alpha search experience"],OPT_OUT_MESSAGE_BETA:["You are viewing the beta version of our new search experience. Click here to return to the old version."],OPT_IN_MESSAGE_BETA:["Go back to the beta search experience"],SEARCH_BETA_LABEL:["Search beta"],SEARCH_ALPHA_LABEL:["Search alpha"],GO_BACK_TO_OLD_SEARCH:["Go back to the old Flickr search"],PROVIDE_FEEDBACK:["Provide feedback"],FROM_PEOPLE_YOU_FOLLOW:["From people you follow"],FULL_TEXT_AND_TAGS:["Full text with suggested tags"],FULL_TEXT:["Full text"],TAGS_ONLY:["Tags only"],RED:["Red"],DARK_ORANGE:["Dark orange"],ORANGE:["Orange"],SCHOOL_BUS_YELLOW:["School bus yellow"],LEMON_YELLOW:["Lemon yellow"],GREEN:["Green"],LIME_GREEN:["Dark lime green"],CYAN:["Cyan"],BLUE:["Blue"],VIOLET:["Violet"],PINK:["Pink"],PALE_PINK:["Pale pink"],WHITE:["White"],GRAY:["Gray"],BLACK:["Black"],MONOCHROME:["monochrome"],JOINED_DATE:["Joined ",{type:"date",valueName:"intlDate",format:"monthYearShort"}],HIDE_INACTIVE_GROUPS:["Hide inactive groups"],ADVANCED:["Advanced"],ORIENTATION_AND_SIZE:["Orientation & size"],ORIENTATION:["Orientation"],MINIMUM_SIZE:["Minimum size"],PORTRAIT:["Portrait"]
,SQUARE:["Square"],LANDSCAPE:["Landscape"],PANORAMA:["Panorama"],SMALL_SHOW_ALL_SIZES:["Small (show all sizes)"],ALL_SIZES:["All sizes"],MEDIUM:["Medium"],LARGE:["Large"],CUSTOM:["Custom"],COLOR:["Color"],DATE:["Date"],FROM:["From"],TO:["To"],DATE_TAKEN:["Date taken"],DATE_POSTED:["Date posted"],DATE_UPLOADED:["Date uploaded"],CONTENT:["Content"],VIDEOS:["Videos"],SCREENSHOTS:["Screenshots"],ILLUSTRATIONS:["Illustrations"],SEARCH_IN:["Search in"],RESET:["Reset"],JUSTIFIED_VIEW:["Justified view"],THUMBNAIL_VIEW:["Thumbnail view"],TILE_VIEW:["Tile view"],SORT:["Sort"],TOGGLE_ADVANCED:["Toggle advanced"],CAMERA_SETTINGS:["Camera settings"],TOGGLE_SEARCH:["Toggle Search"],PHOTOS_PEOPLE_OR_GROUPS:["Photos, people, or groups"],PHOTOS_PEOPLE_GROUPS:["Photos, people, groups"],SMALL_SHORT:["S"],MEDIUM_SHORT:["M"],LARGE_SHORT:["L"],ALL:["All"],TAGS:["Tags"],CLEAR:["Clear"],ABSTRACT:["Abstract"],ART:["Art"],BLACK_AND_WHITE:["Black and white"],MONOCHROME_STYLE:["Monochrome"],BLUR:["Blur"],BRIGHT:["Bright"],CURVES:["Curves"],DIAGONAL:["Diagonal"],ETHEREAL:["Ethereal"],GEOMETRIC:["Geometric"],HDR:["HDR"],LINES:["Lines"],MACRO:["Macro"],DEPTH_OF_FIELD:["Shallow depth of field"],MINIMALIST:["Minimalist"],PASTEL:["Pastel"],PATTERNS:["Patterns"],ROUND:["Round"],SERENE:["Serene"],SYMMETRY:["Symmetry"],TEXTURES:["Textures"],TRIANGLES:["Triangles"],VINTAGE:["Vintage"],BOKEH:["Bokeh"],SEARCH_PHOTOS:["Search photos"],SEARCH_PEOPLE:["Search people"],SEARCH_GROUPS:["Search groups"],EVERYONE:["Everyone"],SIGN_IN_BEFORE_SEARCH_TITLE:["This content is for mature audiences only."],SIGN_IN_BEFORE_SEARCH_MESSAGE:["Join Flickr to turn off safe search."],SIGNUP_FOOTER_MESSAGE:["Private photo management and an inspiring community."]})},"@VERSION@",{requires:["intl"]});
YUI.add("search-autosuggest-field-view",function(e){var t=150;e.namespace("Views")[this.name]=e.Base.create(this.name,e.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(t){var n=this.appContext.getLocation();return this.set("searchUrl",new e.SearchUrl(n.href,this.appContext)),this.set("siteSection",e.URLHelper.getSiteSectionByURL(n.pathname)),this.set("contextToString",{photos:this.intlMessage({intlName:"groups.PHOTOS"}),photostream:this.intlMessage({intlName:"groups.PHOTOS"}),favorites:this.intlMessage({intlName:"common.FAVORITES"}),faves:this.intlMessage({intlName:"common.FAVORITES"}),albums:this.intlMessage({intlName:"common.ALBUMS"}),everyone:this.intlMessage({intlName:"search.EVERYONE"}),contacts:this.intlMessage({intlName:"search.PEOPLE_YOU_FOLLOW"}),peopleYouFollow:this.intlMessage({intlName:"search.PEOPLE_YOU_FOLLOW"}),discussions:this.intlMessage({intlName:"groups.DISCUSSIONS_LINK_LABEL"})}),this.isSOHP=t.isSOHP,this},subviewConfig:{"search-autosuggest-items-list-view":{requiredToShowOnClient:!1,requiredToShowOnServer:!1,disabled:function(){return this.appContext.getUA().isMobileOrTablet}}},loadState:function(){return this.getContextModelPromise()},buildContainer:function(){var e=this.get("context"),t=this.get("searchUrl").getSearchTerm(),n=[];return e&&e.type&&n.push({combo:!0,name:e.name,secondName:this.get("contextToString")[e.scope]}),this.setContainerWithTemplate("search-autosuggest-field",{searchTerm:t,pills:n,hasPills:n.length>0}),(n.length>0||t.length>0)&&this.get("container").addClass("expanded"),this},activate:function(){var t=this.get("container"),n=t.one("#search-field"),r=t.one(".search-form");this.appContext.getViewer().prefs&&this.appContext.getViewer().prefs.keyboardShortcutsEnabled&&this.attachKeyEvent("up:83",this.focusSearchField.bind(this)),t.one("form")&&this.registerEventHandler(t.one("form").on("submit",this.executeSearch.bind(this))),this.registerEventHandler(e.on("add-context-to-search-field",this.addContext.bind(this))),this.registerEventHandler(e.on("transfer-to-gn-search",this.addSearchText.bind(this))),this.registerEventHandler(t.on("mousedown",this.handleMouseDown.bind(this))),this.registerEventHandler(n.on({valuechange:this.updateAutosuggestItems.bind(this),focus:this.handleSearchFieldFocus.bind(this),blur:this.handleSearchFieldBlur.bind(this)})),this.registerEventHandler(n.on("key",this.handleSearchFieldKeydown.bind(this),"down:27,38,40,8"));try{e.config.doc.activeElement.isEqualNode(n.getDOMNode())&&(this.blurSearchField(),this.focusSearchField())}catch(i){}return this},getContextModelPromise:function(){var t=this.get("searchUrl").getAPIParams(),n=e.Promise.resolve(),r=null,i=this;return t[e.SearchHelper.API.groupId]?(r={type:"group",id:t[e.SearchHelper.API.groupId],scope:"photos"},n=this.appContext.getModel("group-info-models",r.id)):t[e.SearchHelper.API.userId]?(r={type:"user",id:t[e.SearchHelper.API.userId],scope:t[e.SearchHelper.API.faves]?"favorites":"photostream"},t[e.SearchHelper.API.faves]?r.scope="favorites":t[e.SearchHelper.UNIFIED_STATE_PARAMS.albums]?r.scope="albums":r.scope="photostream",n=this.appContext.getModel("person-models",r.id)):t[e.SearchHelper.API.faves]?(r={type:"user",id:this.appContext.getViewer().nsid,scope:"favorites"},n=this.appContext.getModel("person-models",r.id)):t[e.SearchHelper.API.contacts]?r={type:"contacts",scope:"photos",name:this.get("contextToString").contacts}:t[e.SearchHelper.UNIFIED_STATE_PARAMS.viewAll]&&(r={type:"everyone",scope:"photos",name:this.get("contextToString").everyone}),n.then(function(e){e&&(r.name=r.type==="user"?e.getValue("displayname"):e.getValue("group").getValue("title")),i.set("context",r)})},handleMouseDown:function(e){var t=e.target;if(e.which===1)if(t.hasClass("search-pill-remover"))e.halt(),this.removeContext();else if(t.hasClass("search-icon-button"))e.halt(),this.executeSearch(e);else if(t.hasClass("search-pill")||t.hasClass("search-pillbox")||t.hasClass("search-form"))e.halt(),this.focusSearchField()},addSearchText:function(e){var t=this.get("container").one("#search-field");t.set("value",t.get("value")+e),this.focusSearchField()},addPill:function(t,n){var r,i={name:t};n&&(i.combo=!0,i.secondName=n),r=e.Node.create(this.templates("search-pill")(i)),this.get("container").one(".search-pillbox").appendChild(r)},removePills:function(){this.get("container").one(".search-pillbox").get("children").remove()},addContext:function(t){var n=this.get("context");if(!n||n.id!==t.id||n.name!==t.name||n.type!==t.type||n.scope!==t.scope)n&&n.type?(this.removeContext(),this.set("context",t),this.addPill(t.name,this.get("contextToString")[t.scope])):(this.set("context",t),this.addPill(t.name,this.get("contextToString")[t.scope]));this.fire("parentViewEvent","disable-autosuggest"),this.get("container").one("#search-field").set("placeholder",""),this.focusSearchField(),e.rapidTracker.beacon(this.name,"searchAddContext_"+t.type+"_"+t.scope)},removeContext:function(){var t=this.get("container"),n=t.one("#search-field");this.set("context",null),n.set("placeholder",this.intlMessage({intlName:"search.PHOTOS_PEOPLE_OR_GROUPS"})),this.removePills(),this.blurSearchBar(),e.fire("remove-context-in-search-field",{}),e.rapidTracker.beacon(this.name,"searchRemoveContext");if(this.get("siteSection")&&this.get("siteSection").name==="search"&&n.get("value").length>0){this.executeSearch();return}this.updateAutosuggestItems(),t.hasClass("expanded")&&(this.fire("parentViewEvent","enable-autosuggest"),this.firstAutosuggestView||(e.rapidTracker.beacon(this.name,"autosuggestShow"),this.firstAutosuggestView=!0))},onParentViewEvent:function(e,t){var n=t&&t.length&&t[0];switch(n){case"resize-search-field":this.resizeSearchField(t[1]);break;case"focus-search-field":this.focusSearchField();break;case"clear-search-field":this.clearSearchField()}},onSubviewEvent:function(e,t){var n=t&&t.length&&t[0],r=this.get("container"),i,s;switch(n){case"autosuggest-lost-all-focus":this.handleAutosuggestBlur();break;
case"focus-search-field":this.focusSearchField();break;case"autosuggest-no-items":r.removeClass("autosuggest-active");break;case"autosuggest-has-items":r.addClass("autosuggest-active");break;case"autosuggest-update-field":s=r.one("#search-field"),s&&typeof t[1]=="string"&&s.set("value",t[1]);break;case"backspace-focus":s=r.one("#search-field"),s&&(i=s.get("value"),s.set("value",i.substring(0,i.length-1)),this.focusSearchField())}},executeSearch:function(t){var n,r,i,s={};t&&t.halt(),n=this.get("container").one("#search-field").get("value"),i=this.get("context"),i&&i.type?(i.type==="group"&&i.scope==="discussions"?(s.q=n,s.w=i.id,s.m="discuss",r=new e.SearchUrl(s,this.appContext,e.SearchUrl.searchTypes.CLASSIC_GROUPS)):(i.type==="user"?(s[e.SearchHelper.API.userId]=i.id,i.scope==="favorites"?s[e.SearchHelper.API.faves]=1:i.scope==="albums"?s[e.SearchHelper.UNIFIED_STATE_PARAMS.albums]=1:s[e.SearchHelper.API.userId]=i.id):i.type==="group"?s[e.SearchHelper.API.groupId]=i.id:i.type==="contacts"?s[e.SearchHelper.API.contacts]="all":i.type==="everyone",s[e.SearchHelper.UNIFIED_STATE_PARAMS.viewAll]=1,r=this.get("searchUrl"),Object.keys(s).forEach(function(e){r.setAPIParam(e,s[e])}),r.setSearchType(e.SearchUrl.searchTypes.PHOTOS),r.setSearchTerm(n)),e.rapidTracker.beacon(this.name,"searchWithContext_"+i.type+"_"+i.scope)):(r=this.get("searchUrl"),r.createNewSearch(n)),this.appContext.flapp.navigate(r.getURL())},focusSearchField:function(t){e.OverlayManager.DroparoundOverlay.closeAll(),this.get("container").one("#search-field").focus()},blurSearchField:function(e){this.get("container").one("#search-field").blur()},resizeSearchField:function(e){e?(this.get("container").setStyle("width",e+"px"),this.get("container").one("#search-field").setStyle("width",e+"px")):(this.get("container").removeAttribute("style"),this.get("container").one("#search-field").removeAttribute("style"))},clearSearchField:function(e){this.get("container").one("#search-field").set("value","")},updateAutosuggestItems:function(e){var t=this.get("container"),n=t.one("#search-field").get("value");e&&e.halt();if(this.get("context"))return;this.fire("parentViewEvent","update-autosuggest-items",n)},handleSearchFieldFocus:function(t){var n=this.get("container"),r=n.one(".search-form"),i,s=this;t.halt(),n.hasClass("focus")||(n.addClass("focus"),n.addClass("expanded"),this.expandTimer&&clearTimeout(this.expandTimer),this.get("context")||(i=this.registerEventHandler(r.on("transitionend",function(){s.detachRegisteredEvent(i),s.updateAutosuggestItems(),n.hasClass("expanded")&&(s.fire("parentViewEvent","enable-autosuggest"),s.firstAutosuggestView||(e.rapidTracker.beacon(s.name,"autosuggestShow"),s.firstAutosuggestView=!0))}))))},blurSearchBar:function(){clearTimeout(this.expandTimer),this.expandTimer=setTimeout(function(){var t=this.get("container"),n=this.get("context"),r=e.one(e.config.doc.activeElement);r.hasClass("autosuggest-selectable-item")||(t.removeClass("focus"),t.removeClass("autosuggest-active"),(!n||!n.type)&&t.one("#search-field").get("value").length===0&&t.removeClass("expanded"),this.fire("parentViewEvent","disable-autosuggest"))}.bind(this),t)},handleSearchFieldBlur:function(e){e.halt(),e.relatedTarget&&e.relatedTarget.hasClass("search-icon-button")?this.executeSearch():this.blurSearchBar()},handleAutosuggestBlur:function(){this.blurSearchBar()},handleSearchFieldKeydown:function(t){var n=t.keyCode,r=t.target;switch(n){case 27:t.halt(),this.blurSearchField();break;case 38:t.halt(),this.fire("parentViewEvent","autosuggest-keyboard-nav","up");break;case 40:t.halt(),this.fire("parentViewEvent","autosuggest-keyboard-nav","down");break;case 8:e.fluid.getTextFieldCursorPosition(r)===0&&e.fluid.getTextFieldSelection()===""&&this.removeContext()}},destructor:function(){clearTimeout(this.expandTimer),this.expandTimer=null}})},"@VERSION@",{requires:["flickr-view","flickr-promise","hermes-template-search-autosuggest-field","hermes-template-search-pill","search-url","autosuggest-context-results-models","storage-helper","search-autosuggest-items-list-view","url-helper"],optionalRequires:["fluid"],langBundles:["search","common","groups"]});
YUI.add("hermes-template-notifications-menu",function(e,t){var n=e.Template.Handlebars.revive({1:function(e,t,n,r,i){var s;return e.escapeExpression((s=(s=n.unseenNotificationCount||(t!=null?t.unseenNotificationCount:t))!=null?s:n.helperMissing,typeof s=="function"?s.call(t!=null?t:{},{name:"unseenNotificationCount",hash:{},data:i}):s))},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var s,o=t!=null?t:{};return'<a class="gn-title c-notifications-menu"\n	tabindex="0"\n	aria-haspopup="true"\n	aria-expanded="false"\n	aria-label="'+e.escapeExpression((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(o,{name:"intlMessage",hash:{intlName:"notifications.NOTIFICATIONS"},data:i}))+'">\n	<span class="c-notification-icon" aria-hidden="true">\n		<span class="c-notification-unseencount hidden">'+((s=n["if"].call(o,t!=null?t.unseenNotificationCount:t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))!=null?s:"")+"</span>\n	</span>\n</a>\n"},useData:!0}),r={};e.Array.each([],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/notifications-menu",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base"]});
YUI.add("hermes-template-fluid-droparound",function(e,t){var n=e.Template.Handlebars.revive({1:function(e,t,n,r,i){return" html"},3:function(e,t,n,r,i){return" subview-droparound"},5:function(e,t,n,r,i){return" menu"},7:function(e,t,n,r,i){return" auto-size"},9:function(e,t,n,r,i){var s,o=t!=null?t:{},u=n.helperMissing,a="function",f=e.escapeExpression;return"max-height: "+f((s=(s=n.staticHeight||(t!=null?t.staticHeight:t))!=null?s:u,typeof s===a?s.call(o,{name:"staticHeight",hash:{},data:i}):s))+"px; min-height: "+f((s=(s=n.staticHeight||(t!=null?t.staticHeight:t))!=null?s:u,typeof s===a?s.call(o,{name:"staticHeight",hash:{},data:i}):s))+"px; "},11:function(e,t,n,r,i){var s;return"width: "+e.escapeExpression((s=(s=n.staticWidth||(t!=null?t.staticWidth:t))!=null?s:n.helperMissing,typeof s=="function"?s.call(t!=null?t:{},{name:"staticWidth",hash:{},data:i}):s))+"px;"},13:function(e,t,n,r,i){return"position: fixed;"},15:function(e,t,n,r,i){return"hide-head"},17:function(e,t,n,r,i){var s,o,u=t!=null?t:{},a=n.helperMissing;return'			<div class="content text-only'+((s=n["if"].call(u,t!=null?t.autoSizeToContent:t,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))!=null?s:"")+'" style="'+((s=(n.ifDefined||t&&t.ifDefined||a).call(u,t!=null?t.contentPadding:t,{name:"ifDefined",hash:{},fn:e.program(18,i,0),inverse:e.noop,data:i}))!=null?s:"")+'">\n				'+e.escapeExpression((o=(o=n.textMessage||(t!=null?t.textMessage:t))!=null?o:a,typeof o=="function"?o.call(u,{name:"textMessage",hash:{},data:i}):o))+"\n			</div>\n"},18:function(e,t,n,r,i){var s;return"padding: "+e.escapeExpression((s=(s=n.contentPadding||(t!=null?t.contentPadding:t))!=null?s:n.helperMissing,typeof s=="function"?s.call(t!=null?t:{},{name:"contentPadding",hash:{},data:i}):s))+"px;"},20:function(e,t,n,r,i){var s,o=t!=null?t:{},u=n.helperMissing;return'			<div class="content html-only'+((s=n["if"].call(o,t!=null?t.autoSizeToContent:t,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))!=null?s:"")+'" style="'+((s=(n.ifDefined||t&&t.ifDefined||u).call(o,t!=null?t.contentPadding:t,{name:"ifDefined",hash:{},fn:e.program(18,i,0),inverse:e.noop,data:i}))!=null?s:"")+'">\n				'+e.escapeExpression((n.renderTrustedMarkup||t&&t.renderTrustedMarkup||u).call(o,t!=null?t.htmlMessage:t,{name:"renderTrustedMarkup",hash:{},data:i}))+"\n			</div>\n"},22:function(e,t,n,r,i){var s,o=t!=null?t:{};return'			<div class="content subview'+((s=n["if"].call(o,t!=null?t.autoSizeToContent:t,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))!=null?s:"")+'" style="'+((s=(n.ifDefined||t&&t.ifDefined||n.helperMissing).call(o,t!=null?t.contentPadding:t,{name:"ifDefined",hash:{},fn:e.program(18,i,0),inverse:e.noop,data:i}))!=null?s:"")+'"></div>\n'},24:function(e,t,n,r,i,s,o){var u,a=t!=null?t:{};return'			<div class="content menu" style="'+((u=(n.ifDefined||t&&t.ifDefined||n.helperMissing).call(a,t!=null?t.contentPadding:t,{name:"ifDefined",hash:{},fn:e.program(18,i,0,s,o),inverse:e.noop,data:i}))!=null?u:"")+'">\n				<ul role="menu">\n'+((u=n.each.call(a,t!=null?t.menuItems:t,{name:"each",hash:{},fn:e.program(25,i,0,s,o),inverse:e.noop,data:i}))!=null?u:"")+"				</ul>\n			</div>\n"},25:function(e,t,n,r,i,s,o){var u;return(u=n["if"].call(t!=null?t:{},o[1]!=null?o[1].multiSelect:o[1],{name:"if",hash:{},fn:e.program(26,i,0,s,o),inverse:e.program(31,i,0,s,o),data:i}))!=null?u:""},26:function(e,t,n,r,i){var s,o,u=t!=null?t:{};return'							<li role="menuitem" '+((s=n["if"].call(u,t!=null?t.selected:t,{name:"if",hash:{},fn:e.program(27,i,0),inverse:e.noop,data:i}))!=null?s:"")+'>\n								<span class="selection"></span>\n								'+e.escapeExpression((o=(o=n.text||(t!=null?t.text:t))!=null?o:n.helperMissing,typeof o=="function"?o.call(u,{name:"text",hash:{},data:i}):o))+((s=n["if"].call(u,t!=null?t.itemFlag:t,{name:"if",hash:{},fn:e.program(29,i,0),inverse:e.noop,data:i}))!=null?s:"")+"\n							</li>\n"},27:function(e,t,n,r,i){return'class="selected"'},29:function(e,t,n,r,i){var s,o=t!=null?t:{},u=n.helperMissing,a="function",f=e.escapeExpression;return" - "+f((s=(s=n.itemFlag||(t!=null?t.itemFlag:t))!=null?s:u,typeof s===a?s.call(o,{name:"itemFlag",hash:{},data:i}):s))+'<div class="label-new">'+f((s=(s=n.itemFlag||(t!=null?t.itemFlag:t))!=null?s:u,typeof s===a?s.call(o,{name:"itemFlag",hash:{},data:i}):s))+"</div>"},31:function(e,t,n,r,i){var s,o,u=t!=null?t:{};return'							<li role="menuitem" '+((s=n["if"].call(u,t!=null?t.isSelected:t,{name:"if",hash:{},fn:e.program(32,i,0),inverse:e.noop,data:i}))!=null?s:"")+" "+((s=n["if"].call(u,t!=null?t.href:t,{name:"if",hash:{},fn:e.noop,inverse:e.program(34,i,0),data:i}))!=null?s:"")+">\n								"+((s=n["if"].call(u,t!=null?t.href:t,{name:"if",hash:{},fn:e.program(36,i,0),inverse:e.noop,data:i}))!=null?s:"")+"\n									"+e.escapeExpression((o=(o=n.text||(t!=null?t.text:t))!=null?o:n.helperMissing,typeof o=="function"?o.call(u,{name:"text",hash:{},data:i}):o))+((s=n["if"].call(u,t!=null?t.itemFlag:t,{name:"if",hash:{},fn:e.program(39,i,0),inverse:e.noop,data:i}))!=null?s:"")+"\n								"+((s=n["if"].call(u,t!=null?t.href:t,{name:"if",hash:{},fn:e.program(41,i,0),inverse:e.noop,data:i}))!=null?s:"")+"\n							</li>\n"},32:function(e,t,n,r,i){return'class="selected-item"'},34:function(e,t,n,r,i){return'tabindex="0"'},36:function(e,t,n,r,i){var s,o,u=t!=null?t:{};return'<a href="'+e.escapeExpression((o=(o=n.href||(t!=null?t.href:t))!=null?o:n.helperMissing,typeof o=="function"?o.call(u,{name:"href",hash:{},data:i}):o))+'"'+((s=n["if"].call(u,t!=null?t.className:t,{name:"if",hash:{},fn:e.program(37,i,0),inverse:e.noop,data:i}))!=null?s:"")+">"},37:function(e,t,n,r,i){var s;return' class="'+e.escapeExpression((s=(s=n.className||(t!=null?t.className:t))!=null?s:n.helperMissing,typeof s=="function"?s.call(t!=null?t:{},{name:"className",hash:{},data:i}):s))+'"'},39:function(e,t,n,r,i){var s;return'<div class="label-new">'+e.escapeExpression((s=(s=n.itemFlag||(t!=null?t.itemFlag:t))!=null?s:n.helperMissing
,typeof s=="function"?s.call(t!=null?t:{},{name:"itemFlag",hash:{},data:i}):s))+"</div>"},41:function(e,t,n,r,i){return"</a>"},43:function(e,t,n,r,i){return"hide-foot"},45:function(e,t,n,r,i){return'		<div class="droparrow up"></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i,s,o){var u,a,f=t!=null?t:{},l=n.helperMissing,c="function",h=e.escapeExpression;return'<div class="droparound'+((u=n["if"].call(f,t!=null?t.htmlMessage:t,{name:"if",hash:{},fn:e.program(1,i,0,s,o),inverse:e.noop,data:i}))!=null?u:"")+((u=n["if"].call(f,t!=null?t.subview:t,{name:"if",hash:{},fn:e.program(3,i,0,s,o),inverse:e.noop,data:i}))!=null?u:"")+((u=n["if"].call(f,t!=null?t.menuItems:t,{name:"if",hash:{},fn:e.program(5,i,0,s,o),inverse:e.noop,data:i}))!=null?u:"")+((u=n["if"].call(f,t!=null?t.autoSizeToContent:t,{name:"if",hash:{},fn:e.program(7,i,0,s,o),inverse:e.noop,data:i}))!=null?u:"")+" "+h((a=(a=n.classList||(t!=null?t.classList:t))!=null?a:l,typeof a===c?a.call(f,{name:"classList",hash:{},data:i}):a))+'"\nstyle="'+((u=n["if"].call(f,t!=null?t.staticHeight:t,{name:"if",hash:{},fn:e.program(9,i,0,s,o),inverse:e.noop,data:i}))!=null?u:"")+"\n"+((u=n["if"].call(f,t!=null?t.staticWidth:t,{name:"if",hash:{},fn:e.program(11,i,0,s,o),inverse:e.noop,data:i}))!=null?u:"")+"\n"+((u=n["if"].call(f,t!=null?t.positionFixed:t,{name:"if",hash:{},fn:e.program(13,i,0,s,o),inverse:e.noop,data:i}))!=null?u:"")+'">\n	<div class="head '+((u=n.unless.call(f,t!=null?t.headContent:t,{name:"unless",hash:{},fn:e.program(15,i,0,s,o),inverse:e.noop,data:i}))!=null?u:"")+'">\n		'+h((a=(a=n.headContent||(t!=null?t.headContent:t))!=null?a:l,typeof a===c?a.call(f,{name:"headContent",hash:{},data:i}):a))+'\n	</div>\n	<div class="body">\n'+((u=n["if"].call(f,t!=null?t.textMessage:t,{name:"if",hash:{},fn:e.program(17,i,0,s,o),inverse:e.noop,data:i}))!=null?u:"")+((u=n["if"].call(f,t!=null?t.htmlMessage:t,{name:"if",hash:{},fn:e.program(20,i,0,s,o),inverse:e.noop,data:i}))!=null?u:"")+((u=n["if"].call(f,t!=null?t.subview:t,{name:"if",hash:{},fn:e.program(22,i,0,s,o),inverse:e.noop,data:i}))!=null?u:"")+((u=n["if"].call(f,t!=null?t.menuItems:t,{name:"if",hash:{},fn:e.program(24,i,0,s,o),inverse:e.noop,data:i}))!=null?u:"")+'	</div>\n	<div class="foot '+((u=n.unless.call(f,t!=null?t.footContent:t,{name:"unless",hash:{},fn:e.program(43,i,0,s,o),inverse:e.noop,data:i}))!=null?u:"")+'">\n		'+h((a=(a=n.footContent||(t!=null?t.footContent:t))!=null?a:l,typeof a===c?a.call(f,{name:"footContent",hash:{},data:i}):a))+"\n	</div>\n"+((u=n["if"].call(f,t!=null?t.showDropArrow:t,{name:"if",hash:{},fn:e.program(45,i,0,s,o),inverse:e.noop,data:i}))!=null?u:"")+"</div>\n"},useData:!0,useDepths:!0}),r={};e.Array.each([],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/fluid-droparound",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base"]});
YUI.add("fluid-droparound-view",function(e,t){"use strict";var n=require("lib/flog")(t),r,i,s;r={css:{destinationContainer:"body",subviewContent:".content.subview",menuContent:".content.menu",droparoundContainer:".droparound",droparoundContent:".body .content",droparrow:".droparrow"},options:{}},i={supportsTransform:!1,droparound:{height:0,width:0}},s=function(e,t,n){var r=e.x,i=e.y,s=e.width,o=e.height,u=e.viewportX,a=t.width,f=t.height,l=n.height,c=n.width,h=n.preferredHorizontalOrientation,p=n.preferredVerticalOrientation,d,v,m,g,y,b=a/2,w=f/2,E=i<w,S=r<b;return p==="down"&&(E=!0),p==="up"&&(E=!1),h==="right"&&(S=!0),h==="left"&&(S=!1),n.ignoreBoundary||(l>u&&(E=!0),i+o+l<u&&(E=!1)),E?(g=i+o,y=i+o+l,d={vertical:"down"},S?(v=r,m=r+c,d.horizontal="right"):(v=r-c+s,m=r-s,d.horizontal="left")):(g=i-l,y=i,d={vertical:"up"},S?(v=r,m=r+c,d.horizontal="right"):(v=r-c+s,m=r-s,d.horizontal="left")),{coords:[v,m,g,y],orientation:d}},e.namespace("Views").FluidDroparound=e.FlickrView.create(this.name,e.FlickrView,[],{initializer:function(e){this.set("isActiveViewAgnostic",!0)},buildContainer:function(){return!this.get("textMessage")&&!this.get("htmlMessage")&&!this.get("subview")&&!this.get("menuItems")?(n.warn("requires a `textMessage`, `htmlMessage`, `subview`, or `menuItems`."),this):(this.get("menuItems")&&this.set("menuItems",this.get("menuItems").filter(function(e){return!e.hidden})),this.setContainerWithTemplate("fluid-droparound",{textMessage:this.get("textMessage"),htmlMessage:this.get("message")?this.get("message"):this.get("htmlMessage"),subview:!!this.get("subview"),menuItems:this.get("menuItems"),multiSelect:this.get("multiSelect"),showDropArrow:this.get("showDropArrow"),hideModalOverlay:this.get("hideModalOverlay"),classList:this.get("classList"),footContent:this.get("footContent"),headContent:this.get("headContent"),staticWidth:this.get("width"),staticHeight:this.get("height"),positionFixed:this.get("positionFixed"),autoSizeToContent:this.get("autoSizeToContent"),contentPadding:this.get("contentPadding")}),this.appendAndPosition(),this)},activate:function(){var t=this.get("container"),n=this;e.OverlayManager.DroparoundOverlay.add(this),e.OverlayManager.DroparoundOverlay.setOverlayStyle({overlayClassList:this.get("overlayClassList"),hideModalOverlay:this.get("hideModalOverlay"),invisibleOverlay:this.get("invisibleOverlay")}),this.registerEventHandler(e.on("droparound:reposition",e.bind(this.anchorPositionChange,this))),this.registerEventHandler(e.on("history:change",function(e){if(e.src==="popstate"&&e.prevVal&&e.newVal)if(e.prevVal.flickr&&e.prevVal.flickr.referrer||e.newVal.flickr&&e.newVal.flickr.referrer)return;n.close(e)})),e.use("keyboard-manager",function(e){n.registerEventHandler(t.on("keydown",n.keyboardNavigation,n))});var i=this.get("anchorElement"),s=this.get("keyboardAnchorElement");return s||(s=i.hasAttribute("aria-haspopup")?i:i.ancestor("[aria-haspopup=true]")),s&&(this.set("keyboardAnchorElement",s),this.get("keyboardAnchorElement").setAttribute("aria-expanded","true"),this.registerEventHandler(s.on("key",this.enterDroparound,"down:40",this))),this.get("subview")&&this.loadSubview(),this.get("menuItems")&&this.registerEventHandler(t.one(r.css.menuContent).delegate(["click","keydown"],function(e){(e.type==="click"||e.keyCode===13)&&this.onMenuItemClick(e)}.bind(this),"li")),this.get("observePageResize")&&this.observePageResize(),this.get("closeOnScroll")&&this.observePageScroll(),this.fire("activated"),this},enterDroparound:function(e){var t=this.get("container").one("ul li");t&&(e.preventDefault(),t.focus())},keyboardNavigation:function(e){var t=e.keyCode,n=t===38||t===9&&e.shiftKey,r=t===40||t===9&&!e.shiftKey,i=e.target.ancestor("li",!0);if(this.appContext.getKeyboardManager().inputHasFocus())return;if(n&&i&&i.previous("li"))e.preventDefault(),this.focusOnPreviousItem(e);else if(r)e.preventDefault(),i&&i.next("li")&&this.focusOnNextItem(e);else if(t===27||n){e.preventDefault();var s=this.get("keyboardAnchorElement");s&&(this.close(),s.focus(),s.removeClass("no-outline"))}},focusOnPreviousItem:function(e){var t=e.target.ancestor("li",!0);if(t){var n=t.previous("li");n&&(n.one("a")?n.one("a").focus():n.focus())}},focusOnNextItem:function(e){var t=e.target.ancestor("li",!0);if(t){var n=t.next("li");n&&(n.one("a")?n.one("a").focus():n.focus())}},getDroparoundContainer:function(){return this.get("container")?this.get("container").one(r.css.droparoundContainer):null},loadSubview:function(){var t,n,i=!1,s=this.get("subview"),o=this;t=this.get("container").one(r.css.subviewContent),t.appendChild(e.Node.create(this.templates("flickr-balls")({})).addClass("flickr-balls")),n=setTimeout(function(){i=!0},40),this.loading=!0,s.appContext=o.appContext,s.set("isActiveViewAgnostic",!0),s.initialize().then(function(e){clearTimeout(n),i&&(e.get("container").addClass("load-transition"),setTimeout(function(){e.get("container").removeClass("load-transition")},1)),o.onSubviewInitialized(e)})},onSubviewInitialized:function(t){var n=this,i=this.get("container").one(r.css.subviewContent);if(!this.loading)return;this.loading=!1,i.one(".flickr-balls").remove(!0),i.appendChild(t.get("container")),t.on("subviewViewEvent",function(e){e&&e.details&&e.details.length&&n.fire.apply(n,e.details)}),t.normalizedActivate(),t.recursivelyActivateSubviews(),n.appendAndPosition(),n.registerEventHandler(n.get("subview").on("actionClick",e.bind(n.handleAction,n)))},onMenuItemClick:function(e){var t,n,i;t=e.target.ancestor("li",!0),t&&(n=this.get("container").one(r.css.menuContent).all("li").indexOf(t),n!==-1&&(i=this.get("menuItems")[n],this.get("multiSelect")&&(i.selected=!i.selected,t.toggleClass("selected")),this.fire("selected",{menuItemIndex:n,menuItem:i,origEvent:e})))},appendAndPosition:function(t){var n=e.one(r.css.destinationContainer),s=this.get("container").one(r.css.droparoundContainer);n&&(n.append(this.get("container")),i.droparound.width=this.get("width")||s.getComputedStyle("width"),i.droparound
.height=this.get("height")||s.getComputedStyle("height"),this.repositionToElement(t||this.get("anchorElement")))},updateTextMessage:function(e){e&&e!==""&&(this.set("textMessage",e),this.buildContainer())},updateHTMLMessage:function(e){e&&e!==""&&(this.set("htmlMessage",e),this.buildContainer())},anchorPositionChange:function(){this.repositionToElement(this.get("anchorElement"))},observePageResize:function(){var t=this;this.registerEventHandler(e.globalEvents.subscribe("window:resize",function(n){e.fire("droparound:reposition"),t.get("closeOnResize")&&t.handleClose(n)}))},observePageScroll:function(){var t=YUI.Env.isServer?0:e.config.win.pageYOffset,n=this;this.get("startingScrollPoint")||this.set("startingScrollPoint",t),this.registerEventHandler(e.globalEvents.subscribe("window:scroll",n.handleScroll.bind(n)))},handleScroll:function(t){var n,r=this.get("startingScrollPoint");r?(n=e.config.win.pageYOffset,(r+this.get("closeOnScrollDistance")<n||r-this.get("closeOnScrollDistance")>n)&&this.handleClose(t)):this.set("startingScrollPoint",e.config.win.pageYOffset)},repositionToElement:function(e,t){var n=this.get("container"),i=this.get("positionFixed"),o=n.one(".droparound"),u=this.get("showDropArrow")?o.one(r.css.droparrow):undefined,a=o.one(r.css.droparoundContent),f=a.get("offsetWidth"),l=a.get("offsetHeight"),c,h=u?u.get("offsetHeight"):0,p=e.getXY(),d=p[0],v=p[1],m=e.getDOMNode().getBoundingClientRect(),g={width:o.get("offsetWidth"),height:o.get("offsetHeight")};g.ignoreBoundary=!!t,this.get("preferLeft")&&(g.preferredHorizontalOrientation="left"),this.get("preferRight")&&(g.preferredHorizontalOrientation="right"),this.get("preferTop")&&(g.preferredVerticalOrientation="up"),this.get("preferBottom")&&(g.preferredVerticalOrientation="down");if(!this.anchorCoords||this.x!==0&&this.y!==0)this.anchorCoords={x:i?m.left:d,y:i?m.top:v,width:e.get("offsetWidth"),height:e.get("offsetHeight"),viewportX:e.getDOMNode().getBoundingClientRect().top||0};var y=s(this.anchorCoords,{width:this.appContext.viewportData.getWidth(),height:this.appContext.viewportData.getHeight()},g);y.orientation.vertical==="down"?y.coords[2]+=h-this.get("anchorOffsetVertical"):y.coords[2]-=h+this.get("anchorOffsetVertical"),y.orientation.horizontal==="right"?y.coords[0]-=this.get("anchorOffsetHorizontal"):y.coords[0]+=this.get("anchorOffsetHorizontal"),o.setStyles({left:y.coords[0],top:y.coords[2]}),u&&(u.removeClass("down").removeClass("up").removeClass("left").removeClass("right").addClass(y.orientation.vertical),y.orientation.horizontal==="left"?u.setStyles({right:10+this.get("mirrorArrowAdjustment"),left:"auto"}):u.setStyles({left:10+this.get("mirrorArrowAdjustment")})),!this.get("menuItems")&&!this.get("autoSizeToContent")&&(c={width:f+"px",height:l+"px"},a.setStyles(c))},handleClose:function(e){this.close()},handleAction:function(e){this.fire("actionClick",e),this.get("dismissOnActionClick")&&this.close(e)},show:function(){var e=!this.isActivated,t=this;return this.initialize().then(function(){t.isClosed=!1,e||t.activate()}),this},close:function(){var t=this.get("container");this.loading=!1,this.isClosed=!0;var n=this.get("keyboardAnchorElement");n&&(n.setAttribute("aria-expanded","false"),n.focus(),n.addClass("no-outline")),this.fire("closeDroparound"),this.destroy(),this.get("subview")&&this.get("subview").destroy(),t&&t.remove(!0),e.OverlayManager.DroparoundOverlay.remove(this)},destructor:function(){this.detachAll()},freeze:function(){e.one("body").setStyles({overflow:"hidden"})},unfreeze:function(){e.one("body").setStyles({overflow:"visible"})}},{ATTRS:{dismissOnOverlayClick:{value:!0,validator:function(t,n){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,n){return e.AttributeHelpers.coerceBoolean(t)}},dismissOnActionClick:{value:!0,validator:function(t,n){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,n){return e.AttributeHelpers.coerceBoolean(t)}},hideModalOverlay:{value:!0,validator:function(t,n){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,n){return e.AttributeHelpers.coerceBoolean(t)}},invisibleOverlay:{value:!1,validator:function(t,n){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,n){return e.AttributeHelpers.coerceBoolean(t)}},preferredSide:{value:null},message:{value:null},textMessage:{value:null},htmlMessage:{value:null},footContent:{value:null},headContent:{value:null},width:{value:0,validator:function(t,n){return e.AttributeHelpers.validateInteger(t)},setter:function(t,n){return e.AttributeHelpers.coerceInteger(t)}},height:{value:0,validator:function(t,n){return e.AttributeHelpers.validateInteger(t)},setter:function(t,n){return e.AttributeHelpers.coerceInteger(t)}},subview:{value:null},menuItems:{value:null},classList:{value:"",validator:function(t,n){return e.AttributeHelpers.validateString(t)},setter:function(t,n){return e.AttributeHelpers.coerceString(t)}},anchorElement:{value:null},keyboardAnchorElement:{value:null},showDropArrow:{value:!0,validator:function(t,n){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,n){return e.AttributeHelpers.coerceBoolean(t)}},anchorOffsetVertical:{value:0,validator:function(t,n){return e.AttributeHelpers.validateInteger(t)},setter:function(t,n){return e.AttributeHelpers.coerceInteger(t)}},anchorOffsetHorizontal:{value:5,validator:function(t,n){return e.AttributeHelpers.validateInteger(t)},setter:function(t,n){return e.AttributeHelpers.coerceInteger(t)}},contentPadding:{value:undefined,validator:function(t,n){return e.AttributeHelpers.validateInteger(t)},setter:function(t,n){return e.AttributeHelpers.coerceInteger(t)}},minVerticalSpace:{value:60,validator:function(t,n){return e.AttributeHelpers.validateInteger(t)},setter:function(t,n){return e.AttributeHelpers.coerceInteger(t)}},minHorizontalSpace:{value:60,validator:function(t,n){return e.AttributeHelpers.validateInteger(t)},setter:function(t,n){return e.AttributeHelpers.coerceInteger(t)}},dropdownArrowWidth:{value:21,validator:function(
t,n){return e.AttributeHelpers.validateInteger(t)},setter:function(t,n){return e.AttributeHelpers.coerceInteger(t)}},dropdownArrowHeight:{value:11},anchorPositionOffset:{value:15,validator:function(t,n){return e.AttributeHelpers.validateInteger(t)},setter:function(t,n){return e.AttributeHelpers.coerceInteger(t)}},observePageResize:{value:!0,validator:function(t,n){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,n){return e.AttributeHelpers.coerceBoolean(t)}},preferLeft:{value:!1,validator:function(t,n){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,n){return e.AttributeHelpers.coerceBoolean(t)}},preferRight:{value:!1,validator:function(t,n){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,n){return e.AttributeHelpers.coerceBoolean(t)}},preferTop:{value:!1,validator:function(t,n){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,n){return e.AttributeHelpers.coerceBoolean(t)}},preferBottom:{value:!1,validator:function(t,n){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,n){return e.AttributeHelpers.coerceBoolean(t)}},mirrorArrowAdjustment:{value:0,validator:function(t,n){return e.AttributeHelpers.validateInteger(t)},setter:function(t,n){return e.AttributeHelpers.coerceInteger(t)}},positionFixed:{value:!1,validator:function(t,n){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,n){return e.AttributeHelpers.coerceBoolean(t)}},closeOnScroll:{value:!1,validator:function(t,n){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,n){return e.AttributeHelpers.coerceBoolean(t)}},closeOnScrollDistance:{value:40,validator:function(t,n){return e.AttributeHelpers.validateInteger(t)},setter:function(t,n){return e.AttributeHelpers.coerceInteger(t)}},closeOnResize:{value:!1,validator:function(t,n){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,n){return e.AttributeHelpers.coerceBoolean(t)}},overlayClassList:{value:"",validator:function(t,n){return e.AttributeHelpers.validateString(t)},setter:function(t,n){return e.AttributeHelpers.coerceString(t)}},forceLeft:{value:null},forceRight:{value:null},autoSizeToContent:{value:!1,validator:function(t,n){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,n){return e.AttributeHelpers.coerceBoolean(t)}},horizCenterToAnchor:{value:!1,validator:function(t,n){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,n){return e.AttributeHelpers.coerceBoolean(t)}},multiSelect:{value:!1,validator:function(t,n){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,n){return e.AttributeHelpers.coerceBoolean(t)}}}})},"@VERSION@",{requires:["flickr-view","hermes-template-fluid-droparound","hermes-template-flickr-balls","fluid-overlay-manager-view","attribute-helpers"],optionalRequires:["fluid"]});
YUI.add("hermes-template-notifications",function(e,t){var n=e.Template.Handlebars.revive({1:function(e,t,n,r,i){return"		<li>\n			"+e.escapeExpression(e.lambda(t,t))+"\n		</li>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var s,o,u=t!=null?t:{},a=n.helperMissing,f="function",l=e.escapeExpression;return'<div class="notifications-container" style="width: '+l((o=(o=n.width||(t!=null?t.width:t))!=null?o:a,typeof o===f?o.call(u,{name:"width",hash:{},data:i}):o))+"; height: "+l((o=(o=n.height||(t!=null?t.height:t))!=null?o:a,typeof o===f?o.call(u,{name:"height",hash:{},data:i}):o))+"; overflow-x: "+l((o=(o=n.overflowX||(t!=null?t.overflowX:t))!=null?o:a,typeof o===f?o.call(u,{name:"overflowX",hash:{},data:i}):o))+"; overflow-y: "+l((o=(o=n.overflowY||(t!=null?t.overflowY:t))!=null?o:a,typeof o===f?o.call(u,{name:"overflowY",hash:{},data:i}):o))+';">\n	<header>\n		<h2>'+l((n.intlMessage||t&&t.intlMessage||a).call(u,{name:"intlMessage",hash:{intlName:"notifications.NOTIFICATIONS"},data:i}))+'</h2>\n		<a href="/mail" class="mail-icon">'+l((n.intlMessage||t&&t.intlMessage||a).call(u,{name:"intlMessage",hash:{intlName:"common.FLICKRMAIL"},data:i}))+' <span class="flickr-mail-count"></span></a>\n	</header>\n	<ul class="notifications-list" style="max-height: '+l((o=(o=n.listHeight||(t!=null?t.listHeight:t))!=null?o:a,typeof o===f?o.call(u,{name:"listHeight",hash:{},data:i}):o))+';">\n		<li class="notifications-empty-state hidden">\n			'+l((n.intlMessage||t&&t.intlMessage||a).call(u,{name:"intlMessage",hash:{intlName:"notifications.NOTIF_NOTHING_HERE"},data:i}))+"\n		</li>\n"+((s=n.each.call(u,t!=null?t.notifications:t,{name:"each",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))!=null?s:"")+'	</ul>\n\n	<a href="/activity" class="view-all">'+l((n.intlMessage||t&&t.intlMessage||a).call(u,{name:"intlMessage",hash:{intlName:"notifications.NOTIF_VIEW_RECENT_ACTIVITY"},data:i}))+"</a>\n</div>"},useData:!0}),r={};e.Array.each([],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/notifications",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base"]});
YUI.add("contact-models",function(e){"use strict";function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,attributes:{pathAlias:{validator:function(t,n){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)||undefined},defaultFn:function(e){return e}},username:{validator:function(t,n){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)}},realname:{validator:function(t,n){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)}},displayname:{readOnly:!0,derivedBy:["username","realname"],getter:function(e,t){return this.getValue(t,"realname")||this.getValue(t,"username")}},iconfarm:{},iconserver:{},buddyicon:{readOnly:!0,derivedBy:["iconfarm","iconserver","nsid"],getter:function(t,n){var r=this.getValue(n,"iconfarm"),i=this.getValue(n,"iconserver"),s=this.getValue(n,"nsid");return e.URLHelper.getBuddyIconURL(s,r,i)}},nsid:{readOnly:!0,defaultFn:function(e){return e}},isMe:{readOnly:!0,defaultFn:function(e){var t=this.appContext.getViewer();return t.signedIn&&t.nsid===e}},isPro:{defaultValue:!1,setter:function(t){return e.AttributeHelpers.coerceBoolean(t)}},profileURL:{readOnly:!0,derivedBy:["pathAlias","nsid"],defaultFn:function(e){var t=this.getValue(e,"pathAlias");return t||(t=e),"/photos/"+t}},followsURL:{readOnly:!0,derivedBy:["pathAlias","nsid"],defaultFn:function(e){var t=this.getValue(e,"pathAlias");return t||(t=e),"/people/"+t+"/contacts"}}}})},"@VERSION@",{requires:["flickr-model-registry","attribute-helpers","url-helper"]});
YUI.add("notification-group-discussion-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,parseDiscussionModel:function(t,n,r,i){var s={id:t,pathAlias:n,title:r.name,replyCount:r.replies,groupID:r.group_id,groupName:r.groupName,iconUrls:e.APIHelper.response.agnosticizeFarmPathTransferProtocol(r.iconurls),coverPhotoUrls:e.APIHelper.response.agnosticizeFarmPathTransferProtocol(r.coverphoto_url),group:i};return s},attributes:{id:{},pathAlias:{},title:{},replyCount:{},groupID:{},groupName:{},iconUrls:{},coverPhotoUrls:{},url:{readOnly:!0,derivedBy:["id","groupID"],defaultFn:function(e){return"/groups/"+this.getValue(e,"groupID")+"/discuss/"+e}},groupUrl:{readOnly:!0,derivedBy:["id","groupID"],defaultFn:function(e){return"/groups/"+this.getValue(e,"groupID")}},group:{isModel:!0}}})},"@VERSION@",{requires:["flickr-model-registry"]});
YUI.add("notification-gallery-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,parseGalleryModel:function(t){var n={id:t.id,pathAlias:t.pathalias,title:t.title._content,iconUrls:e.APIHelper.response.agnosticizeFarmPathTransferProtocol(t.iconurls),owner:{id:t.owner,username:t.ownername,displayname:t.realname}};return n},attributes:{id:{},title:{},pathAlias:{},url:{readOnly:!0,derivedBy:["id","owner","pathAlias"],defaultFn:function(e){var t=this.getValue(e,"pathAlias")||this.getValue(e,"owner").id;return"/photos/"+t+"/galleries/"+e}},iconUrls:{},owner:{}}})},"@VERSION@",{requires:["flickr-model-registry"]});
YUI.add("notification-flickrmail-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,parseFlickrMailModel:function(e){var t={id:e.id,isMuted:e.is_muted};return t},attributes:{id:{},isMuted:{}}})},"@VERSION@",{requires:["flickr-model-registry"]});
YUI.add("notification-event-fave-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,attributes:{id:{},type:{},owner:{isModel:!0},timestamp:{}}})},"@VERSION@",{requires:["flickr-model-registry"]});
YUI.add("notification-event-comment-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,attributes:{id:{},type:{},owner:{isModel:!0},timestamp:{},content:{}}})},"@VERSION@",{requires:["flickr-model-registry"]});
YUI.add("notification-event-follower-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,attributes:{type:{},owner:{isModel:!0},timestamp:{}}})},"@VERSION@",{requires:["flickr-model-registry"]});
YUI.add("notification-event-added-to-gallery-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,attributes:{type:{},owner:{isModel:!0},gallery:{},timestamp:{}}})},"@VERSION@",{requires:["flickr-model-registry"]});
YUI.add("notification-event-people-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,attributes:{type:{},owner:{isModel:!0},personTagged:{isModel:!0},tagger:{isModel:!0},timestamp:{}}})},"@VERSION@",{requires:["flickr-model-registry"]});
YUI.add("notification-event-tag-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,attributes:{type:{},owner:{isModel:!0},timestamp:{}}})},"@VERSION@",{requires:["flickr-model-registry"]});
YUI.add("notification-event-photo-comment-mention-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,attributes:{type:{},owner:{isModel:!0},timestamp:{}}})},"@VERSION@",{requires:["flickr-model-registry"]});
